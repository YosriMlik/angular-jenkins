@if (profile) {
  <h2>Profile</h2>
  <p>{{ message }}</p>

    <p><strong>Username:</strong> {{ profile.username }}</p>
    <p><strong>Email:</strong> {{ profile.email }}</p>
    <p><strong>First Name:</strong> {{ profile.firstName }}</p>
    <p><strong>Last Name:</strong> {{ profile.lastName }}</p>
    <p><strong>Role:</strong> {{ profile.role }}</p>

    <button (click)="toggleEditMode()">Edit Profile</button>
    <button (click)="deleteProfile()" style="background-color: red; color: white;">Delete Account</button>

  <dialog [attr.open]="editMode ? '' : null">
    <form (ngSubmit)="updateProfile()">
      <table>
        <tr>
          <td><label>Username:</label></td>
          <td><input type="text" [(ngModel)]="profile.username" name="username" required /></td>
        </tr>
        <tr>
          <td><label>Email:</label></td>
          <td><input type="email" [(ngModel)]="profile.email" name="email" required /></td>
        </tr>
        <tr>
          <td><label>First Name:</label></td>
          <td><input type="text" [(ngModel)]="profile.firstName" name="firstName" required /></td>
        </tr>
        <tr>
          <td><label>Last Name:</label></td>
          <td><input type="text" [(ngModel)]="profile.lastName" name="lastName" required /></td>
        </tr>
        <br>
        <tr>
          <td colspan="2">
            <button type="submit">Save Changes</button>
            <button type="button" (click)="toggleEditMode()">Cancel</button>
          </td>
        </tr>
      </table>
    </form>  </dialog>
}
